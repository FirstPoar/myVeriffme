!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Veriff",[],t):"object"==typeof exports?exports.Veriff=t():e.Veriff=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},function(e,t){function n(e,t){var n=t||0,a=r;return a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+"-"+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]+a[e[n++]]}for(var r=[],a=0;a<256;++a)r[a]=(a+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";var r=n(3),a=n(6),i=a.createTemplate,o=n(8),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.features,a=t.id;return{apiKey:e,person:{},features:n,id:void 0===a?r.v4():a,env:{ENV:"production",VERIFF_API_URL:"https://magic.veriff.me/v1"}.ENV,targetBlank:!1,setOptions:function(e){var t=e.person,n=e.features,r=e.targetBlank;t&&(this.person=Object.assign({},this.person,t.givenName?{givenName:t.givenName}:null,t.lastName?{lastName:t.lastName}:null)),n&&n instanceof Array&&(this.features=n),r&&(this.targetBlank=r)},mount:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.label,a=n.submitValue,s=i(e,{person:this.person,label:r,submitValue:a});s.onsubmit=function(e){if(e.preventDefault(),!(t.features&&t.features instanceof Array))throw new Error("Session features array is required");var n=s.givenName?s.givenName.value:null,r=s.lastName?s.lastName.value:null;t.setOptions({person:{givenName:n,lastName:r}});var a={id:t.id,person:t.person,features:t.features};o(t.apiKey,a,function(e,n){if(e)throw new Error(e);if(t.targetBlank)return window.open(n.verification.url);window.location.href=n.verification.url})}}}};e.exports=s},function(e,t,n){var r=n(4),a=n(5),i=a;i.v1=r,i.v4=a,e.exports=i},function(e,t,n){function r(e,t,n){var r=t&&n||0,f=t||[];e=e||{};var c=e.node||a,v=void 0!==e.clockseq?e.clockseq:i;if(null==c||null==v){var p=o();null==c&&(c=a=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==v&&(v=i=16383&(p[6]<<8|p[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),d=void 0!==e.nsecs?e.nsecs:l+1,g=m-u+(d-l)/1e4;if(g<0&&void 0===e.clockseq&&(v=v+1&16383),(g<0||m>u)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=m,l=d,i=v,m+=122192928e5;var b=(1e4*(268435455&m)+d)%4294967296;f[r++]=b>>>24&255,f[r++]=b>>>16&255,f[r++]=b>>>8&255,f[r++]=255&b;var y=m/4294967296*1e4&268435455;f[r++]=y>>>8&255,f[r++]=255&y,f[r++]=y>>>24&15|16,f[r++]=y>>>16&255,f[r++]=v>>>8|128,f[r++]=255&v;for(var h=0;h<6;++h)f[r+h]=c[h];return t||s(f)}var a,i,o=n(0),s=n(1),u=0,l=0;e.exports=r},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[r+s]=o[s];return t||i(o)}var a=n(0),i=n(1);e.exports=r},function(e,t,n){"use strict";var r=n(7),a=r.camelCaseToSlug,i=function(e){var t=e.type,n=e.value,r=e.name,i=document.createElement("input");return i.setAttribute("type",t),"submit"===t&&n&&(i.value=n),i.setAttribute("class","veriff-"+t),i.setAttribute("id","veriff-"+a(r)),i.setAttribute("name",r),i.setAttribute("required",!0),i},o=function(e,t){var n=document.createElement("label");return n.setAttribute("class","veriff-label"),n.setAttribute("id","veriff-label-"+a(t)),n.setAttribute("htmlFor",t),n.innerHTML=e,n},s=function(e){var t=e.container,n=e.name,r=e.label;if(!e.shouldRender){var a=o(r,n),s=i({type:"text",name:n});t.appendChild(a),t.appendChild(s)}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.label,r=void 0===n?{givenName:"Given name",lastName:"Last name"}:n,a=t.person,o=void 0===a?{givenName:!1,lastName:!1}:a,u=t.value,l=void 0===u?"Start verification":u,f=document.getElementById(e);f||new Error("Element "+e+" does not exists");var c=document.createDocumentFragment(),v=document.createElement("form");v.setAttribute("class","veriff-container"),v.setAttribute("name","veriff-form"),s({container:v,name:"givenName",label:r.givenName,shouldRender:o.givenName}),s({container:v,name:"lastName",label:r.lastName,shouldRender:o.lastName});var p=i({type:"submit",name:"submitBtn",value:l});return v.appendChild(p),c.appendChild(v),f.appendChild(c),v};e.exports={createTemplate:u}},function(e,t,n){"use strict";var r=t;r.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},r.camelCaseToSlug=function(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()},r.camelCaseHuminize=function(e){return r.capitalize(e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1 ").toLowerCase())}},function(e,t,n){"use strict";var r={ENV:"production",VERIFF_API_URL:"https://magic.veriff.me/v1"}.VERIFF_API_URL+"/sessions",a=function(e,t,n){var a=new XMLHttpRequest;a.open("POST",r,!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("x-auth-client",e),a.onreadystatechange=function(){if(4===a.readyState)if("201"==a.status){var e=JSON.parse(a.responseText);n(null,e)}else n(a.status,null)};var i={verification:{id:t.id,features:t.features,person:{firsName:t.person.givenName,lastName:t.person.lastName},timestamp:(new Date).toISOString()}},o=JSON.stringify(i);a.send(o)};e.exports=a}])});